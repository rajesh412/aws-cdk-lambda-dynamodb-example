"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const colors = require("colors/safe");
const logging_1 = require("../logging");
/**
 * Print a message to the logger in case the operation takes a long time
 */
class PleaseHold {
    constructor(message, timeoutSec = 10) {
        this.message = message;
        this.timeoutSec = timeoutSec;
    }
    start() {
        this.handle = setTimeout(this.printMessage.bind(this), this.timeoutSec * 1000);
    }
    stop() {
        if (this.handle) {
            clearTimeout(this.handle);
        }
    }
    printMessage() {
        logging_1.print(colors.yellow(this.message));
    }
}
exports.PleaseHold = PleaseHold;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxlYXNlLWhvbGQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJwbGVhc2UtaG9sZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHNDQUF1QztBQUN2Qyx3Q0FBbUM7QUFFbkM7O0dBRUc7QUFDSCxNQUFhLFVBQVU7SUFHckIsWUFBNkIsT0FBZSxFQUFtQixhQUFhLEVBQUU7UUFBakQsWUFBTyxHQUFQLE9BQU8sQ0FBUTtRQUFtQixlQUFVLEdBQVYsVUFBVSxDQUFLO0lBQzlFLENBQUM7SUFFTSxLQUFLO1FBQ1YsSUFBSSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRU0sSUFBSTtRQUNULElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNmLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDM0I7SUFDSCxDQUFDO0lBRU8sWUFBWTtRQUNsQixlQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNyQyxDQUFDO0NBQ0Y7QUFuQkQsZ0NBbUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbG9ycyA9IHJlcXVpcmUoJ2NvbG9ycy9zYWZlJyk7XG5pbXBvcnQgeyBwcmludCB9IGZyb20gXCIuLi9sb2dnaW5nXCI7XG5cbi8qKlxuICogUHJpbnQgYSBtZXNzYWdlIHRvIHRoZSBsb2dnZXIgaW4gY2FzZSB0aGUgb3BlcmF0aW9uIHRha2VzIGEgbG9uZyB0aW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGVhc2VIb2xkIHtcbiAgcHJpdmF0ZSBoYW5kbGU/OiBOb2RlSlMuVGltZXI7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBtZXNzYWdlOiBzdHJpbmcsIHByaXZhdGUgcmVhZG9ubHkgdGltZW91dFNlYyA9IDEwKSB7XG4gIH1cblxuICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgdGhpcy5oYW5kbGUgPSBzZXRUaW1lb3V0KHRoaXMucHJpbnRNZXNzYWdlLmJpbmQodGhpcyksIHRoaXMudGltZW91dFNlYyAqIDEwMDApO1xuICB9XG5cbiAgcHVibGljIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJpbnRNZXNzYWdlKCkge1xuICAgIHByaW50KGNvbG9ycy55ZWxsb3codGhpcy5tZXNzYWdlKSk7XG4gIH1cbn1cbiJdfQ==