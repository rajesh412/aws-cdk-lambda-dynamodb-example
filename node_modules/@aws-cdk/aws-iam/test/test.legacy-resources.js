"use strict";
const cdk = require("@aws-cdk/cdk");
const iam = require("../lib");
module.exports = {
    'cloudformation XxxResource emits a warning'(test) {
        const app = new cdk.App();
        const stack = new cdk.Stack(app, 'test-stack');
        new iam.cloudformation.UserResource(stack, 'LegacyResource', {
            userName: 'MyUserName'
        });
        const out = app.synthesizeStack('test-stack');
        const warnings = out.metadata['/test-stack/LegacyResource'].filter(md => md.type === 'aws:cdk:warning');
        test.deepEqual(warnings.length, 1);
        test.deepEqual(warnings[0].data, 'DEPRECATION: \"cloudformation.UserResource\" will be deprecated in a future release in ' +
            'favor of \"CfnUser\" (see https://github.com/awslabs/aws-cdk/issues/878)');
        test.done();
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5sZWdhY3ktcmVzb3VyY2VzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGVzdC5sZWdhY3ktcmVzb3VyY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxvQ0FBcUM7QUFFckMsOEJBQStCO0FBRS9CLGlCQUFTO0lBQ1AsNENBQTRDLENBQUMsSUFBVTtRQUNyRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUMxQixNQUFNLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBRS9DLElBQUksR0FBRyxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLGdCQUFnQixFQUFFO1lBQzNELFFBQVEsRUFBRSxZQUFZO1NBQ3ZCLENBQUMsQ0FBQztRQUVILE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFOUMsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEtBQUssaUJBQWlCLENBQUMsQ0FBQztRQUN4RyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUM3Qix5RkFBeUY7WUFDekYsMEVBQTBFLENBQUMsQ0FBQztRQUU5RSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDZCxDQUFDO0NBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjZGsgPSByZXF1aXJlKCdAYXdzLWNkay9jZGsnKTtcbmltcG9ydCB7IFRlc3QgfSBmcm9tICdub2RldW5pdCc7XG5pbXBvcnQgaWFtID0gcmVxdWlyZSgnLi4vbGliJyk7XG5cbmV4cG9ydCA9IHtcbiAgJ2Nsb3VkZm9ybWF0aW9uIFh4eFJlc291cmNlIGVtaXRzIGEgd2FybmluZycodGVzdDogVGVzdCkge1xuICAgIGNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG4gICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ3Rlc3Qtc3RhY2snKTtcblxuICAgIG5ldyBpYW0uY2xvdWRmb3JtYXRpb24uVXNlclJlc291cmNlKHN0YWNrLCAnTGVnYWN5UmVzb3VyY2UnLCB7XG4gICAgICB1c2VyTmFtZTogJ015VXNlck5hbWUnXG4gICAgfSk7XG5cbiAgICBjb25zdCBvdXQgPSBhcHAuc3ludGhlc2l6ZVN0YWNrKCd0ZXN0LXN0YWNrJyk7XG5cbiAgICBjb25zdCB3YXJuaW5ncyA9IG91dC5tZXRhZGF0YVsnL3Rlc3Qtc3RhY2svTGVnYWN5UmVzb3VyY2UnXS5maWx0ZXIobWQgPT4gbWQudHlwZSA9PT0gJ2F3czpjZGs6d2FybmluZycpO1xuICAgIHRlc3QuZGVlcEVxdWFsKHdhcm5pbmdzLmxlbmd0aCwgMSk7XG4gICAgdGVzdC5kZWVwRXF1YWwod2FybmluZ3NbMF0uZGF0YSxcbiAgICAgICdERVBSRUNBVElPTjogXFxcImNsb3VkZm9ybWF0aW9uLlVzZXJSZXNvdXJjZVxcXCIgd2lsbCBiZSBkZXByZWNhdGVkIGluIGEgZnV0dXJlIHJlbGVhc2UgaW4gJyArXG4gICAgICAnZmF2b3Igb2YgXFxcIkNmblVzZXJcXFwiIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2F3c2xhYnMvYXdzLWNkay9pc3N1ZXMvODc4KScpO1xuXG4gICAgdGVzdC5kb25lKCk7XG4gIH1cbn07Il19